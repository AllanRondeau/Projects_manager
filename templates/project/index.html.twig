{% extends 'base.html.twig' %}
    {% block title %}Projets{% endblock %}

    {% block content %}
        {% if is_granted('ROLE_USER') %}
            <div class="p-12 grid grid-cols md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for project in projects %}
                    <div class="rounded overflow-hidden shadow-lg bg-gradient-to-b from-purple to-turquoise text-white">
                        <div class="h-80 bg- flex items-center justify-center">
                            <img class="w-80 rounded" src="{{ asset(project.filePath) }}" alt="project's thumbnail">
                        </div>
                        <div class="w-80 h-0.5 rounded bg-white m-auto"></div>
                        <div class="px-6 py-4 z-1">
                            <div class="font-bold text-2xl mb-2">{{ project.name }}</div>
                            <p class="text-base">
                                {{ project.category }}
                            </p>
                        </div>
                        <div class="flex flex-col md:flex-row md:justify-between items-center p-6">
                            <span class="text-sm font-semibold">{{ project.startDate.format('d/m/Y') }} - {{ project.endDate ? project.endDate.format('d/m/Y') : 'En cours' }}</span>
                            <a href="{{ url('app_project', {'id': project.id}) }}" class="p-2 border-2 border-purple text-white rounded font-bold flex items-center">En savoir plus <span class="material-symbols-outlined text-md m-auto">arrow_forward</span></a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endblock %}
